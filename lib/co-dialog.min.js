!function(t){var e;e=function(t){var e=void 0!==t?t:{};function n(t){return void 0===t}function D(t){return!n(t)}function I(t){return D(t)&&"function"==typeof t}function S(t){return D(t)&&"[object Object]"==Object.prototype.toString.call(t)}function T(t){return D(t)&&t instanceof Array}function N(t){return D(t)&&"string"==typeof t}function H(t){return D(t)&&"boolean"==typeof t}function j(t){return H(t)&&t}function $(t){return D(t)&&isNaN(t)}var i=function(t,e){t.classList?t.setAttribute("class",e):t.className=e},s=function(t,e){t.setAttribute("id",e)};function z(t){if(t.preventDefault)t.preventDefault();else{if(!t.stopPropagation)return!1;t.stopPropagation()}}function M(t,e,o){if(D(t)){if("function"==typeof t.forEach)return void t.forEach(e,o||{});for(var n=0;n<t.length;n++)"function"==typeof e&&e.call(o||null,t[n],n)}}function R(t){return o=" ",N(e=t)&&e.search(o)+1?t.replace(/(\s*)/g,""):t;var e,o}function U(t,e){if(n(e))return null;if(S(e)){if(e instanceof Array)return void Array;if(e instanceof Object){for(var o in e)t[o]=e[o];return t}return null}}function F(t,e,o){t.addEventListener?t.addEventListener(e,o,!1):t.attachEvent&&t.attachEvent("on"+e,o)}function G(t,e,o){t.removeEventListener?t.removeEventListener(e,o,!1):t.detachEvent("on"+e,o)}function l(t){return Array.isArray?Array.isArray(t):!!T(t)}function a(t){if(!t)return null;if(Object.keys)return Object.keys(t);var e=[];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.push(o);return e}function r(t,e){if(N(t)||D(i=e)&&"number"==typeof i){for(var o=0,n=e.length;o<n;o++)if(e[o]==t)return 1;return!1}var i;return!1}var P={title:"",message:"",layout:"center",type:"alert",isGesture:!0,isDrag:!1,isClose:!0,titleColor:"#9A9B9C",closeColor:"#9A9B9C",messageColor:"#696969",showCloseButton:!0,showCancleButton:!1,showConfirmButton:!0,cancleButtonText:"取消",confirmButtonText:"确定",cancleButtonColor:"#fff",confirmButtonColor:"#fff",cancleButtonBackground:"#aaa",confirmButtonBackground:"#45B680",footerText:"",timeout:null,animation:!0,customAnimation:"bounceIn",methods:function(){},onDialogBefore:function(){},onHeaderBefore:function(){},onBodyBefore:function(){},onFooterBefore:function(){},onDialogAfter:function(){},onHeaderAfter:function(){},onBodyAfter:function(){},onFooterAfter:function(){},confirmCallback:null,cancleCallback:null},o=["bounce","flash","pulse","rubberBand","shake","headShake","swing","tada","wobble","jello","bounceIn","bounceInDown","bounceInLeft","bounceInRight","bounceInUp","bounceOut","bounceOutDown","bounceOutLeft","bounceOutRight","bounceOutUp","fadeIn","fadeInDown","fadeInDownBig","fadeInLeft","fadeInLeftBig","fadeInRight","fadeInRightBig","fadeInUp","fadeInUpBig","fadeOut","fadeOutDown","fadeOutDownBig","fadeOutLeft","fadeOutLeftBig","fadeOutRight","fadeOutRightBig","fadeOutUp","fadeOutUpBig","flipInX","flipInY","flipOutX","flipOutY","lightSpeedIn","lightSpeedOut","rotateIn","rotateInDownLeft","rotateInDownRight","rotateInUpLeft","rotateInUpRight","rotateOut","rotateOutDownLeft","rotateOutDownRight","rotateOutUpLeft","rotateOutUpRight","hinge","jackInTheBox","rollIn","rollOut","zoomIn","zoomInDown","zoomInLeft","zoomInRight","zoomInUp","zoomOut","zoomOutDown","zoomOutLeft","zoomOutRight","zoomOutUp","slideInDown","slideInLeft","slideInRight","slideInUp","slideOutDown","slideOutLeft","slideOutRight","slideOutUp"],c={excuteAnimation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd",MSAnimation:"MSAnimationEnd"},u={excuteAnimation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"animationstart",WebkitAnimation:"webkitAnimationStart",MSAnimation:"MSAnimationStart"},d=function(t){this.didDialogList=[],this.dialogElement=t||null,this.strict={header:".dialog-header",body:".dialog-body",footer:".dialog-footer"},this.cacheDialogElement=[],this.setTimer=null,this.name="codialog",this.mouseoutcount=0,this.rootDirectory={},this.closeBackValue=!1,this.xString=[],this.hasAnimation=!0,this.customAnimation="bounceOut"};d.prototype.app=function(t){if(r(t,this.cacheDialogElement))this.dialogElement=t;else if(!this.appPushNewElements(t))return window.console.warn('this methods .app("'+t+'") accepts wrong parameters.','you must define correct "class" and "id" and "_"')&&!1;return this},d.prototype.appPushNewElements=function(t){if(N(t),t.search(/^(\.|\#)/),t.slice(1).search(/^[\_|(a-zA-Z)]/)+1){var e=(o=t,n=document.createElement("div"),"."==o.charAt(0)&&i(n,o.slice(1)),"#"==o.charAt(0)&&s(n,o.slice(1)),n);return e.innerHTML+='<div mask="" class="codialog-mask" aria-hidden="false"><div dialog="" class="codialog-frame" role="dialog" aria-dialog="true"><div aria-dialogBox="true" class="codialog-box"><div class="codialog-fixed"><div class="codialog-styles"><div header="" class="codialog-styles-head dialog-header"><div class="codialog-head-content"><div title="" ref="title" class="codialog-head-title codialog-head-info"><span ></span></div><div close="" ref="close" class="codialog-head-close"><button type="button" class="addClose">×</button></div></div></div><div body="" class="codialog-styles-content dialog-body"><div class="codialog-content-message" dialog-body-overflow><div class="codialog-message-success codialog-success"></div><div class="codialog-message-fail codialog-fail"></div><div message="" ref="message" class="codialog-message-text message-text codialog-text"><span ></span></div></div></div><div footer="" class="codialog-styles-foot dialog-footer"><div class="codialog-foot-button codialog-foot-text"><div textGroup="" ref="text" class="codialog-text-group"></div><div buttonGroup="" ref="button" class="codialog-button-group"><button type="button" confirm="" class="primary group-btn">确定</button><button type="button" cancle="" class="cancle group-btn">取消</button></div></div></div></div></div></div></div></div>',document.body.appendChild(e),this.dialogElement=t||null,this.cacheDialogElement.push(t),!0}return!1;var o,n},d.prototype.hide=function(t){var o=this;if(N(t))r(t,this.cacheDialogElement)&&function(t,e){if(document.querySelector&&document.addEventListener){if(null==f.prototype.validateAnimationEvent(e,c))return e.style.display="none",o.resetScroll(!1);o.animate(t).delay(100).fadeOut({type:"end",callback:function(){e.style.display="none",o.resetScroll(!1)}}).render()}else e.style.display="none",o.resetScroll(!1)}(t+" [mask]",o.$(t));else if(S(t)){var e=a(t);"timeout"in t&&Number(t[e[0]])&&(this.setTimer&&clearTimeout(this.setTimer),o.setTimer=setTimeout(function(){o.$(o.dialogElement).style.display="none",o.resetScroll(!1)},t[e[0]])),"callback"in t&&I(e[1])&&t[e[1]](this.$(this.dialogElement))}else o.$(o.dialogElement).style.display="none",o.resetScroll(!1);return this},d.prototype.show=function(t){var o=this,n="bounceIn";function e(t,e){if(document.querySelector&&document.addEventListener){if(null==f.prototype.validateAnimationEvent(e,c))return e.style.display="block",o.resetScroll(!0),null;o.hasAnimation||(n=o.customAnimation||n),o.animate(t).delay(100)[n]({type:"start",callback:function(){e.style.display="block",o.resetScroll(!0)}}).render()}else e.style.display="block",o.resetScroll(!0)}if(N(t))r(t,this.cacheDialogElement)&&e(t+" [dialog]",o.$(o.dialogElement));else if(S(t)){var i=a(t);"timeout"==i[0].toLowerCase()&&$(t[i[0]])&&(this.setTimer=setTimeout(function(){o.$(o.dialogElement).style.display="block",o.resetScroll(!0),t[i[1]]=null},t[i[0]])),i[1]&&"callback"==i[1].toLowerCase()&&t[i[1]](this.$(this.dialogElement))}else e(o.dialogElement+" [dialog]",o.$(o.dialogElement));return this},d.prototype.resetScroll=function(t){if(t)this.classList(document.body," codialog-show",document.body),this.classList(document.documentElement," codialog-show",document.documentElement);else{if(!D(this.classList(document.body)||this.classList(document.documentElement)))return null;this.classList(document.body,this.classList(document.body).replace(" codialog-show",""),""),this.classList(document.documentElement,this.classList(document.documentElement).replace(" codialog-show",""),"")}},d.prototype.$=function(t){return 9===t.nodeType?t.documentElement:I(t.HTMLDocument)?t:this.find(document,t)},d.prototype.getElementsByClassName=function(t,e){if(I(t.getElementsByClassName)){for(var o=t.getElementsByTagName("*"),n=o.length,i=[],s=0;s<n;s++){if(r(e,o[s].className.split(" "))){i.push(o[s]);break}}return i[0]}return t.getElementsByClassName(e)[0]},d.prototype.find=function(t,e,o){if("object"==typeof t&&N(e)){if(e.search(/^(\.)/)+1)return this.getElementsByClassName(9==t.nodeType?document:t,e.slice(1));if(e.search(/^(\#)/)+1)return t.getElementById(e.slice(1));if(e.search(/^(\s*)(\[.*\])/g)+1){var a=[];return function t(e,o,n){if(e.length){for(var i=0,s=e.length;i<s;i++){if(N(e[i].getAttribute(o))){if(a.push(e[i]),l(n))continue;break}if(1==e.length)return t(e[i].children,o,n);if(!(1<s&&i<s))return}return l(n)?a:a[0]}}(t.children,e.slice(1,e.length-1),o)}return t.getElementsByTagName(e)}},d.prototype.use=function(d,t){var o=this,f=this.$(this.dialogElement),m=this.find(f,"[dialog]"),e=this.find(f,"[mask]"),n=this.find(f,"[header]"),i=this.find(f,"[body]"),s=this.find(f,"[footer]");if(U(this.rootDirectory,{dialog:m,mask:e,header:n,body:i,footer:s}),arguments.length&&N(d)&&(this.xString,this.xString=arguments)){switch(this.xString.length){case 1:d={message:this.xString[0],onHeaderBefore:function(){this.style.display="none"}};break;case 2:var a=this.xString[1];d={title:this.xString[0],message:N(a)?a:"No message text"};break;case 3:default:a=this.xString[1];var l=this.xString[2];d={title:this.xString[0],message:N(a)?a:"No message",confirmButtonText:N(l)?l:"No confirm text"}}this.xString=[]}var r,c,u=this.find(s,"[buttonGroup]"),h=function(t){if(t instanceof Object)return D(JSON)?JSON.parse(JSON.stringify(t)):t}(P);if(S(d=U(h,d))){if((d.onDialogBefore||d.onHeaderBefore||d.onBodyBefore||d.onFooterBefore)&&(I(d.onDialogBefore)&&d.onDialogBefore.call(m,m),I(d.onHeaderBefore)&&d.onHeaderBefore.call(n,n),I(d.onBodyBefore)&&d.onBodyBefore.call(i,i),I(d.onFooterBefore)&&d.onFooterBefore.call(s,s)),$(d.timeout)||this.hide({timeout:d.timeout}),H(d.isMask)&&!d.isMask&&this.find(f,"[mask]")&&(this.find(f,"[mask]").style.backgroundColor="transparent"),j(d.isDrag)){var p=!0,y={},g={},b={};j(d.isGesture)?m.style.cursor="move":m.style.cursor="unset",F(m,"mousedown",function(t){y={x:m.offsetLeft-document.body.scrollLeft,y:m.offsetTop-document.body.scrollTop},g={x:t.screenX,y:t.screenY},p=!0;var e=function(t){p&&(b={x:t.screenX,y:t.screenY},y.x+=b.x-g.x,y.y+=b.y-g.y,g=b,m.style.left=y.x+"px",m.style.top=y.y+"px")};F(o.$(document),"mousemove",e),F(o.$(document),"mouseup",function(t){G(m.ownerDocument,"mouseover",e),p=!1,z(t)}),z(t)})}var v,x,B,w;if(N(d.footerText)&&this.find(s,"[textGroup]")?this.find(s,"[textGroup]").innerHTML=d.footerText:T(d.footerText)&&this.find(s,"[textGroup]")?0<d.footerText.length&&(this.find(s,"[textGroup]").innerHTML=d.footerText.concat().join("")):!D(c=this.find(s,"[textGroup]"))&&(c.parentElement.removeChild?c.parentElement.removeChild(c):c.parentElement.removeNode(c)),N(d.title)&&(v=this.find(n,"[title]"))&&v&&(v.innerHTML=d.title),N(d.message)&&(v=this.find(i,"[message]"))&&v&&(v.innerHTML=this.message||d.message),N(d.cancleButtonText)&&(v=this.find(u,"[cancle]"))&&v&&(v.textContent=d.cancleButtonText),N(d.confirmButtonText)&&(v=this.find(u,"[confirm]"))&&v&&(v.textContent=d.confirmButtonText),N(d.cancleButtonColor)&&(v=this.find(u,"[cancle]"))&&v&&(v.style.color=d.cancleButtonColor),N(d.confirmButtonColor)&&(v=this.find(u,"[confirm]"))&&v&&(v.style.color=d.confirmButtonColor),N(d.cancleButtonBackground)&&(v=this.find(u,"[cancle]"))&&v&&(v.style.background=d.cancleButtonBackground),N(d.confirmButtonBackground)&&(v=this.find(u,"[confirm]"))&&v&&(v.style.background=d.confirmButtonBackground),N(d.titleColor)&&(v=this.find(n,"[title]"))&&v&&(v.style.color=d.titleColor),N(d.closeColor)&&(v=this.find(n,"[close]"))&&v&&(v.style.color=d.closeColor),N(d.messageColor)&&(v=this.find(i,"[message]"))&&v&&(v.style.color=d.messageColor),I(d.methods)&&(this.$methods(),d.methods.call(this,this.dialogElement)),H(d.isClose)&&d.isClose){var A=this.$(this.dialogElement),E=[],k=this.find(n,"[close]");D(k)&&E.push(k);var L=this.find(u,"[cancle]");D(u),D(L)&&E.push(L);var C=this.find(u,"[confirm]");D(u),D(C)&&E.push(C),0<E.length&&M(E,function(t,e){t.onclick=function(t){o.hide(A.className.length?"."+A.className:"#"+A.getAttribute("id")),clearTimeout(o.setTimer),2==e&&I(d.confirmCallback)?d.confirmCallback():1==e&&I(d.cancleCallback)&&d.cancleCallback(),o.closeBackValue=!0}})}H(r=d.showCloseButton)&&!r&&D(x=this.find(n,"[close]"))&&(x.style.display="none"),j(d.showCancleButton)&&D(B=this.find(u,"[cancle]"))&&(B.style.display="inline-block"),H(d.showConfirmButton)&&D(w=this.find(u,"[confirm]"))&&(d.showConfirmButton?w.style.display="inline-block":w.style.display="none"),(d.onDialogAfter||d.onHeaderAfter||d.onBodyAfter||d.onFooterAfter)&&(I(d.onDialogAfter)&&d.onDialogAfter.call(m,m),I(d.onHeaderAfter)&&d.onHeaderAfter.call(n,n),I(d.onBodyAfter)&&d.onBodyAfter.call(i,i),I(d.onFooterAfter)&&d.onFooterAfter.call(s,s)),N(d.layout)&&d.layout.length&&function(){var t=(document.documentElement||document.body).clientWidth,e=(document.documentElement||document.body).clientHeight,o=!1;f.style.zIndex="-9999","block"!=f.style.display&&(f.style.display="block",o=!0);var n=m.offsetWidth,i=m.offsetHeight;o&&(f.style.display="none",o=!1);f.style.zIndex="9999";for(var s={x:t/2,y:e/2},a={x:n/2,y:i/2},l=d.layout.toLowerCase().split(" "),r=[],c=0;c<l.length;c++)l[c].length&&r.push(l[c]);function u(){m.style.left=s.x-a.x+"px",m.style.top=s.y-a.y+"px"}if(1==(l=r).length)switch(l=R(l[0])){case"center":u();break;case"left":m.style.left="10px",m.style.top=s.y-a.y+"px";break;case"right":m.style.left=t-n-10+"px",m.style.top=s.y-a.y+"px";break;case"top":m.style.left=s.x-a.x+"px",m.style.top="10px";break;case"bottom":m.style.left=s.x-a.x+"px",m.style.top=e-i-10+"px";break;default:u()}else 1<l.length&&("left top"==(l=l.join(" "))||"top left"==l?(m.style.left="10px",m.style.top="10px"):"left bottom"==l||"bottom left"==l?(m.style.left="10px",m.style.top=e-i-10+"px"):"right top"==l||"top right"==l?(m.style.left=t-n+10+"px",m.style.top="10px"):"right bottom"==l||"bottom right"==l?(m.style.left=t-n+"px",m.style.top=e-i-10+"px"):u())}()}var O=!1;return e.onclick=function(t){O?O=!1:((t=t||window.event).target||t.srcElement)==e&&(clearTimeout(o.setTimer),o.$(o.dialogElement).style.display="none",o.classList(document.body,o.classList(document.body).replace(" codialog-show",""),""),o.classList(document.documentElement,o.classList(document.documentElement).replace(" codialog-show",""),""))},e.onmousedown=function(){m.onmouseup=function(t){m.onmouseup=null,(((t=t||window.event).target||t.srcElement)==m||m.contains(t.target||t.srcElement))&&(O=!0)}},m.onmousedown=function(){e.onmouseup=function(t){e.onmouseup=null,((t=t||window.event).target||t.srcElement)==e&&(O=!0)}},H(d.animation)&&f&&(d.animation?this.hasAnimation=!0:N(d.customAnimation)&&(this.hasAnimation=!1,this.customAnimation=d.customAnimation)),this},d.prototype.classList=function(t,e,o){return N(e)?(t.classList?t.setAttribute("class",("string"!=typeof o?o.classList:"")+e):t.className&&(t.className=("string"!=typeof o?o.className:"")+e),null):t.className||t.classList},d.prototype.$methods=function(t){return this.header=this.onHeader({children:this.rootDirectory.header}),this.body=this.onBody({children:this.rootDirectory.body}),this.footer=this.onFooter({children:this.rootDirectory.footer}),I(t)&&t.call(this,this.dialogElement),this},d.prototype.onDialogBefore=function(t){},d.prototype.onHeaderBefore=function(t){},d.prototype.onBodyBefore=function(t){},d.prototype.onFooterBefore=function(t){},M(["onHeader","onBody","onFooter"],function(t){d.prototype[t]=function(t){return{$refs:function(t){var e=new Object;return M(this.find(t.children,"[ref]",[]),function(t){e[t.getAttribute("ref")]=t}),e}.call(this,t)}}}),d.prototype.onDialogAfter=function(t){},d.prototype.onHeaderAfter=function(t){},d.prototype.onBodyAfter=function(t){},d.prototype.onFooterAfter=function(t){},d.prototype.animate=function(t){return new f(t)};var f=function(t){this.listItems=[t],this.wait=[]};f.prototype.validateAnimationEvent=function(t,e){for(var o in e)if(D(t.style[o]))return e[o]},f.prototype.excuteAnimation=function(t,e,o){var n=document.querySelector(t),i=d.prototype.classList,s=this.validateAnimationEvent(n,c),a=this.validateAnimationEvent(n,u);"end"==o.type.toLowerCase()?i(n," "+e+" animatedHalf",n):i(n," "+e+" animated",n);var l=function(){o.type;G(n,a,r)},r=function(){"end"==o.type.toLowerCase()?(o.callback(e),i(n,i(n).replace(" "+e+" animatedHalf",""),"")):i(n,i(n).replace(" "+e+" animated",""),""),G(n,s,r),G(n,a,l)};F(n,s,r),F(n,a,l)};for(var m=function(n){f.prototype[n]=function(e){var o=this;return this.saveAnimation=function(t){o.excuteAnimation(t,n,e instanceof Object?e:{type:null,callback:function(){}})},"start"==e.type&&"function"==typeof e.callback&&e.callback(),this}},h=0,p=o.length;h<p;h++)m(o[h]);f.prototype.delay=function(t){return D(t)&&this.wait.push(Number(t)),this},f.prototype.render=function(){this.saveAnimation(this.listItems.slice(0))},U(e,new d),U(e,{addEventListener:F})},"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(module.exports||exports):"function"==typeof define&&define.amd?define(["exports"],e):e(window.coog={}),"undefined"!=typeof document&&window.coog&&(window.coDialog=window.codialog=window.Codialog=window.CoDialog=window.Coog=window.coog)}("undefined"!=typeof window||global);